(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{14:function(e,t,c){e.exports={row:"favorite_row__1KAc8",remove:"favorite_remove__2IdV0",image:"favorite_image__2y1wo"}},17:function(e,t,c){},37:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),i=c(23),r=c.n(i),s=c(12),o=c(2),j=c(6),u=Object(a.createContext)(),l=function(e){var t=Object(a.useState)(""),c=Object(j.a)(t,2),i=c[0],r=c[1];return Object(n.jsx)(u.Provider,{value:[i,r],children:e.children})},m=(c(17),function(){return Object(n.jsxs)("nav",{children:[Object(n.jsx)(s.b,{to:"".concat("/Movies","/"),className:"home",children:"Search"}),Object(n.jsx)(s.b,{to:"".concat("/Movies","/checkout"),className:"check",children:"Checkout"})]})}),d=c(14),b=c.n(d),h=function(e){var t=e.title,c=e.image,i=e.id,r=Object(a.useContext)(u),s=Object(j.a)(r,2),o=s[0],l=s[1];return Object(n.jsxs)("div",{className:b.a.row,children:[Object(n.jsx)("img",{className:b.a.image,src:c,onError:function(e){e.target.onerror=null,e.target.src="https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg"},alt:""}),Object(n.jsx)("div",{children:t}),Object(n.jsx)("button",{className:b.a.remove,onClick:function(e){e.preventDefault(),l(o.filter((function(e){return e.id!==i})))},children:"\u2715"})]})},v=function(){var e=Object(a.useContext)(u),t=Object(j.a)(e,2),c=t[0];t[1];return Object(n.jsxs)("div",{className:"checkout",children:[!c.length&&Object(n.jsx)("div",{className:"none",children:"No movies in Checkout. Find some movies in the Search section."}),!!c.length&&c.map((function(e){return Object(n.jsx)(h,{id:e.id,title:e.title,image:e.image},e.id)})),!!c.length&&Object(n.jsx)("button",{className:"confirm",onClick:function(){return alert("Confirmed")},children:"Confirm"})]})},O=c(20),x=c.n(O),f=c(25),p=c(21),g=c(9),_=c.n(g),N=function(e){var t=e.title,c=e.yearreleased,i=e.image,r=e.id,s=Object(a.useContext)(u),o=Object(j.a)(s,2),l=o[0],m=o[1];return Object(n.jsxs)("div",{className:_.a.movie,children:[Object(n.jsx)("img",{className:_.a.image,src:i,alt:""}),Object(n.jsxs)("div",{className:_.a.description,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:t}),Object(n.jsx)("h3",{className:_.a.year,children:c})]}),Object(n.jsx)("button",{className:_.a.add,onClick:function(e){e.preventDefault(),l.length&&l.some((function(e){return e.id===r}))||m((function(e){return[].concat(Object(p.a)(e),[{image:i,title:t,id:r}])}))},children:"Add to Checkout"})]})]})},C=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],i=t[1],r=Object(a.useState)(""),s=Object(j.a)(r,2),o=s[0],u=s[1],l=Object(a.useState)(""),m=Object(j.a)(l,2),d=m[0],b=m[1],h=function(){var e=Object(f.a)(x.a.mark((function e(){var t,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.omdbapi.com/?apikey=".concat("8c87be91","&s=").concat(o));case 2:return t=e.sent,e.next=5,t.json();case 5:"True"===(c=e.sent).Response?(document.getElementsByClassName("alert")[0].textContent="",b(c.Search)):(document.getElementsByClassName("alert")[0].textContent="Try another search.",b(""));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=Object(a.useRef)(!0);Object(a.useEffect)((function(){v.current?v.current=!1:h()}),[o]);return Object(n.jsxs)("div",{className:"search",children:[Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u(c)},children:[Object(n.jsx)("input",{type:"text",placeholder:"Search for a Movie",value:c,onChange:function(e){i(e.target.value)}}),Object(n.jsx)("button",{type:"submit",children:"Search"})]}),Object(n.jsx)("div",{className:"alert"}),Object(n.jsx)("div",{className:"movies",children:!!d.length&&d.map((function(e){return Object(n.jsx)(N,{id:e.imdbID,title:e.Title,image:e.Poster,yearreleased:e.Year},e.imdbID)}))})]})};var k=function(){return Object(n.jsx)(l,{children:Object(n.jsxs)(s.a,{children:[Object(n.jsx)(m,{}),Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{exact:!0,path:"".concat("/Movies","/"),component:C}),Object(n.jsx)(o.a,{path:"".concat("/Movies","/checkout"),component:v})]})]})})};r.a.render(Object(n.jsx)(k,{}),document.getElementById("root"))},9:function(e,t,c){e.exports={movie:"movie_movie__AHyuT",year:"movie_year__3Gu7A",image:"movie_image__33Djt",add:"movie_add__2NRzd",description:"movie_description__396H8"}}},[[37,1,2]]]);
//# sourceMappingURL=main.61722e60.chunk.js.map